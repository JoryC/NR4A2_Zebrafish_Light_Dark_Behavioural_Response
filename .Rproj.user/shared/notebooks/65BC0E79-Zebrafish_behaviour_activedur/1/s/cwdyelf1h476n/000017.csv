"0","start <- c(20,30,40)"
"0","end <- c(25,35,45)"
"0","dark <- data.frame(start, end)"
"0",""
"0","fishBehavDat %>%"
"0","  group_by(Genotype, time_end) %>%"
"0","  summarise(se = sd(get(params$value), na.rm = TRUE) / sqrt(length(get(params$value))),"
"0","    sd = sd(get(params$value), na.rm = TRUE),"
"0","    mean = mean(get(params$value), na.rm = TRUE),"
"0","    median = median(get(params$value), na.rm = TRUE)) %>%"
"0","  ggplot(aes(x = time_end, y = mean)) +"
"0","  geom_rect(data = dark, inherit.aes = FALSE,"
"0","          aes(xmin = start, xmax = end, ymin = -Inf, ymax = Inf),"
"0","          alpha = 0.1, fill = 'black') +"
"0","  geom_vline(xintercept = 20, linetype = ""dashed"") +"
"0","  geom_line() +"
"0","  geom_point(aes(shape = Genotype), size = 2.5) +"
"0","  geom_errorbar(aes(ymin = mean - se, ymax = mean + se, group = Genotype), alpha=0.3) +"
"0","  xlab(""Time [min]"") +"
"0","  ylab(paste(""Mean"", params$value)) +"
"0","  theme_classic() +"
"0","  ylim(10, 60) +"
"0","  facet_wrap(~Genotype)"
"2","`summarise()` has grouped output by 'Genotype'. You can override using the `.groups` argument."
